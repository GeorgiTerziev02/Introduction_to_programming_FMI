# Четене от и писане във файлове - помощен материал за курсовите проекти по УП практикум

Когато четем нещо от конзолата, ние приемаме поток от информация и го обработваме по даден начин. 
Извеждането на информация на конзолата пък можем да разглеждаме като писане в даден поток. Подобно е и положението при файловете.

За да работим с файлове, трябва да include-нем библиотеката <fstream>:
```c++
#include <fstream>
```

## 1. Четене от файлове

ifstream са потоците за четене от файлове.

### 1.1 Отваряне на файлов поток за четене
```c++
std::ifstream ifs(<file_name>); // например "data_file.txt"
// Винаги правим проверка дали потокът е отворен успешно:
if (!ifs.is_open()) {
    // връщаме false/прекратяваме програмата/изписваме грешка
}
```

### 1.2. Четене от файл:
```c++
ifs.get(); // връща символчето, което е на ред в потока
ifs.getline(<buffer>, <size>, <separator>); // чете реда до зададения разделител и поставя прочетената информация в подадения буфер (по default сепаратора е '\n')
ifs.ignore(); // игнорира current символа и преминава към следващия от потока
ifs >> <buffer>; // прочита информацията до space, '\n' или табулация, и я поставя в дадения буфер 
```

### 1.3. Затваряне на файлов поток:
```c++
ifs.clear(); // изчистваме грешките от потока
ifs.close(); // затваряме потока
```

## 2. Писане във файлове

ofstream са потоците за писане във файлове.

### 2.1 Отваряне на файлов поток за писане
```c++
// by default при ofstream, ако файлът не съществува СЕ СЪЗДАВА празен такъв
std::ofstream ofs(<file_name>); // например "data_file.txt"

// Винаги правим проверка дали потокът е отворен успешно:
if (!ofs.is_open()) {
    // връщаме false/прекратяваме програмата/изписваме грешка
}
```

### 2.2. Писане във файл:
```c++
ofs.put(char s); // поставя символче в потока
ofs << <something>; // записва информацията от <something> във файла 
```

### 2.3. Затваряне на файлов поток:
```c++
ofs.clear(); // изчистваме грешките от потока
ofs.close(); // затваряме потока
```

:exclamation:Запомнете: Отварянето на поток е скъпа операция, затова гледайте да я прилагате минимален брой пъти. Най-добре отворете потока веднъж и след това, ако ви трябва в други функции, го подавайте по референция:
```c++
void f(std::ifstream& ifs) {
    char s = ifs.get();
}
```

# Четене от и писане във файлове - помощен материал за курсовите проекти по УП практикум

Когато четем нещо от конзолата, ние приемаме поток от информация и го обработваме по даден начин. 
Извеждането на информация на конзолата пък можем да разглеждаме като писане в даден поток.
Подобно е и положението при файловете.

За да работим с файлове, трябва да include-нем библиотеката <fstream>:
```c++
#include <fstream>
```

## 1. Четене от файлове

ifstream са потоците за четене от файлове.

### Отваряне на файлов поток за четене
```c++
std::ifstream ifs(<file_name>); // например "data_file.txt"
// Винаги правим проверка дали потокът е отворен успешно:
if (!ifs.is_open()) {
    // връщаме false/прекратяваме програмата/изписваме грешка
}
```

### Четене от файл:
```c++
ifs.get(); // връща един символ, който е на ред в потока
ifs.getline(<buffer>, <size>, <separator>); // чете реда до зададения разделител и поставя прочетената информация в подадения буфер (по default сепаратора е '\n')
ifs.ignore(); // игнорира current символа и преминава към следващия от потока
ifs >> <buffer>; // прочита информацията до space, '\n' или табулация, и я поставя в дадения буфер 
```

## 2. Писане във файлове

ofstream са потоците за писане във файлове.

### Отваряне на файлов поток за писане
```c++
// by default при ofstream, ако файлът не съществува СЕ СЪЗДАВА празен такъв
std::ofstream ofs(<file_name>); // например "data_file.txt"

// Винаги правим проверка дали потокът е отворен успешно:
if (!ofs.is_open()) {
    // връщаме false/прекратяваме програмата/изписваме грешка
}
```

### Писане във файл:
```c++
ofs.put(char s); // поставя един символ в потока
ofs << <buffer>; // записва информацията от <buffer> във файла 
```

### 3. Затваряне на файлов поток, когато няма да бъде използван повече:
```c++
ifs/ofs.clear(); // изчистваме грешките от потока
ifs/ofs.close(); // затваряме потока
```

:exclamation:Запомнете: Отварянето на поток е скъпа операция, затова гледайте да я прилагате минимален брой пъти. Най-добре отворете потока веднъж и след това, ако ви трябва в други функции, го подавайте по референция:
```c++
void f(std::ifstream& ifs) {
    // ...
}
```
Credits: [**desiish**](https://github.com/desiish/UP_Pract_2023_2024/blob/main/utils/work_with_files.md)
